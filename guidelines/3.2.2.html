<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3.2.2 Podczas wpisywania (A) - Nieoficjalny przewodnik WCAG 2.1</title>
    <link rel="stylesheet" href="../styles.css">
</head>

<body>
    <a href="#main" class="skip-link">Przejd≈∫ do tre≈õci g≈Ç√≥wnej</a>

    <header>
        <!-- Zawarto≈õƒá zostanie za≈Çadowana dynamicznie przez JavaScript -->
    </header>

    <main id="main">
        <div class="page-intro">
            <h1>3.2.2 Podczas wpisywania (A)</h1>
            <p>Zmiana ustawie≈Ñ komponentu interfejsu u≈ºytkownika nie powoduje automatycznie zmiany kontekstu,
                chyba ≈ºe u≈ºytkownik zosta≈Ç poinformowany o tym zachowaniu przed u≈ºyciem komponentu.</p>
        </div>

        <section class="criterion-description">
            <h2>Opis kryterium</h2>
            <p>To kryterium wymaga, aby wprowadzanie danych lub zmiana ustawie≈Ñ w elementach interfejsu
                (takich jak pola formularza, listy rozwijane, przyciski radio) nie powodowa≈Ço automatycznych
                zmian kontekstu bez uprzedzenia u≈ºytkownika. Oznacza to, ≈ºe:</p>
            <ul>
                <li>Wyb√≥r opcji z listy rozwijanej nie powinien automatycznie wysy≈Çaƒá formularza</li>
                <li>Zmiana warto≈õci pola nie powinna przekierowywaƒá na innƒÖ stronƒô</li>
                <li>Zaznaczenie checkboxa nie mo≈ºe otwieraƒá nowego okna</li>
                <li>Wprowadzanie tekstu nie powinno automatycznie przesy≈Çaƒá danych</li>
            </ul>

            <p>WyjƒÖtek stanowiƒÖ sytuacje, gdzie u≈ºytkownik zosta≈Ç wcze≈õniej poinformowany
                o automatycznym zachowaniu systemu.</p>

            <h3>Kto odnosi korzy≈õƒá</h3>
            <ul>
                <li><strong>Osoby niewidome</strong> - u≈ºywajƒÖce czytnik√≥w ekranu, kt√≥re potrzebujƒÖ przewidywalno≈õci
                </li>
                <li><strong>Osoby z ograniczeniami poznawczymi</strong> - kt√≥re mogƒÖ byƒá zdezorientowane
                    niespodziewanymi zmianami</li>
                <li><strong>Osoby z ograniczeniami motorycznymi</strong> - kt√≥re mogƒÖ przypadkowo zmieniƒá warto≈õci</li>
                <li><strong>U≈ºytkownicy z ADHD</strong> - kt√≥rzy sƒÖ wra≈ºliwi na rozpraszajƒÖce zmiany</li>
                <li><strong>PoczƒÖtkujƒÖcy u≈ºytkownicy</strong> - kt√≥rzy uczƒÖ siƒô obs≈Çugi interfejsu</li>
                <li><strong>U≈ºytkownicy urzƒÖdze≈Ñ mobilnych</strong> - kt√≥rzy mogƒÖ przypadkowo dotknƒÖƒá elementy</li>
                <li><strong>Starsi u≈ºytkownicy</strong> - kt√≥rzy preferujƒÖ przewidywalny interfejs</li>
            </ul>
        </section>

        <section class="definitions">
            <h2>Definicje</h2>
            <dl>
                <dt><strong>Zmiana kontekstu (Change of context)</strong></dt>
                <dd>ZnaczƒÖce zmiany w tre≈õci strony internetowej, kt√≥re mogƒÖ dezorientowaƒá u≈ºytkownik√≥w,
                    je≈õli nie sƒÖ oni ≈õwiadomi, ≈ºe zmiana mo≈ºe wystƒÖpiƒá. Obejmuje to zmiany:
                    <ul>
                        <li>Programu u≈ºytkownika (przeglƒÖdarki)</li>
                        <li>Okna wy≈õwietlania (viewport)</li>
                        <li>Fokusa</li>
                        <li>Tre≈õci, kt√≥ra zmienia znaczenie strony</li>
                    </ul>
                </dd>

                <dt><strong>Komponent interfejsu u≈ºytkownika</strong></dt>
                <dd>Czƒô≈õƒá tre≈õci, kt√≥ra jest postrzegana przez u≈ºytkownik√≥w jako pojedynczy element kontrolny
                    dla okre≈õlonej funkcji (np. przycisk, pole tekstowe, lista rozwijana).</dd>

                <dt><strong>Wprowadzanie danych (Input)</strong></dt>
                <dd>Dane podawane do systemu przez u≈ºytkownika poprzez dzia≈Çania takie jak:
                    pisanie na klawiaturze, zaznaczanie opcji, klikanie przycisk√≥w.</dd>

                <dt><strong>Ustawienia komponentu</strong></dt>
                <dd>Konfiguracja lub stan elementu interfejsu, taki jak zaznaczenie checkboxa,
                    wybrana opcja z listy, wprowadzony tekst.</dd>
            </dl>
        </section>

        <section class="examples">
            <h2>Przyk≈Çady</h2>

            <h3 class="bad-practice">‚ùå Nieprawid≈Çowe implementacje</h3>

            <div class="example-block bad-example">
                <h4>Automatyczne wys≈Çanie formularza przy zmianie listy</h4>
                <pre><code class="language-html">&lt;!-- Nieprawid≈Çowe - formularz wysy≈Ça siƒô przy zmianie --&gt;
&lt;form method="get" action="/search"&gt;
    &lt;label for="category"&gt;Kategoria:&lt;/label&gt;
    &lt;select id="category" name="category" onchange="this.form.submit()"&gt;
        &lt;option value=""&gt;Wybierz kategoriƒô&lt;/option&gt;
        &lt;option value="electronics"&gt;Elektronika&lt;/option&gt;
        &lt;option value="books"&gt;KsiƒÖ≈ºki&lt;/option&gt;
        &lt;option value="clothing"&gt;Odzie≈º&lt;/option&gt;
    &lt;/select&gt;
&lt;/form&gt;</code></pre>
                <p><strong>Problem:</strong> U≈ºytkownik nie mo≈ºe przeglƒÖdaƒá opcji bez automatycznego wys≈Çania
                    formularza.</p>
            </div>

            <div class="example-block bad-example">
                <h4>Automatyczne przekierowanie przy wyborze jƒôzyka</h4>
                <pre><code class="language-html">&lt;!-- Nieprawid≈Çowe - przekierowanie bez ostrze≈ºenia --&gt;
&lt;form&gt;
    &lt;label for="language"&gt;Jƒôzyk:&lt;/label&gt;
    &lt;select id="language" onchange="redirectToLanguage(this.value)"&gt;
        &lt;option value="pl"&gt;Polski&lt;/option&gt;
        &lt;option value="en"&gt;English&lt;/option&gt;
        &lt;option value="de"&gt;Deutsch&lt;/option&gt;
    &lt;/select&gt;
&lt;/form&gt;

&lt;script&gt;
function redirectToLanguage(lang) {
    window.location.href = '/' + lang + '/';
}
&lt;/script&gt;</code></pre>
                <p><strong>Problem:</strong> Strona zmienia siƒô natychmiast bez mo≈ºliwo≈õci anulowania.</p>
            </div>

            <div class="example-block bad-example">
                <h4>Otwieranie okna popup przy zaznaczeniu checkboxa</h4>
                <pre><code class="language-html">&lt;!-- Nieprawid≈Çowe - popup otwiera siƒô automatycznie --&gt;
&lt;form&gt;
    &lt;input type="checkbox" id="newsletter" 
           onchange="openNewsletterPopup(this.checked)"&gt;
    &lt;label for="newsletter"&gt;Zapisz siƒô do newslettera&lt;/label&gt;
&lt;/form&gt;

&lt;script&gt;
function openNewsletterPopup(checked) {
    if (checked) {
        window.open('/newsletter-signup', 'newsletter', 'width=400,height=300');
    }
}
&lt;/script&gt;</code></pre>
                <p><strong>Problem:</strong> Niespodziewane otwarcie nowego okna mo≈ºe dezorientowaƒá u≈ºytkownika.</p>
            </div>

            <div class="example-block bad-example">
                <h4>Automatyczna zmiana tre≈õci przy wpisywaniu</h4>
                <pre><code class="language-html">&lt;!-- Nieprawid≈Çowe - tre≈õƒá zmienia siƒô podczas pisania --&gt;
&lt;form&gt;
    &lt;label for="search"&gt;Wyszukaj produkt:&lt;/label&gt;
    &lt;input type="text" id="search" 
           oninput="changePageContent(this.value)"&gt;
&lt;/form&gt;

&lt;div id="main-content"&gt;
    &lt;h2&gt;Strona g≈Ç√≥wna&lt;/h2&gt;
    &lt;p&gt;Witamy w naszym sklepie&lt;/p&gt;
&lt;/div&gt;

&lt;script&gt;
function changePageContent(query) {
    if (query.length &gt; 2) {
        document.getElementById('main-content').innerHTML = 
            '&lt;h2&gt;Wyniki wyszukiwania&lt;/h2&gt;&lt;p&gt;Szukasz: ' + query + '&lt;/p&gt;';
    }
}
&lt;/script&gt;</code></pre>
                <p><strong>Problem:</strong> G≈Ç√≥wna tre≈õƒá strony zmienia siƒô podczas wpisywania, co mo≈ºe dezorientowaƒá.
                </p>
            </div>

            <h3 class="good-practice">‚úÖ Prawid≈Çowe implementacje</h3>

            <div class="example-block good-example">
                <h4>Formularz z przyciskiem wys≈Çania</h4>
                <pre><code class="language-html">&lt;!-- Prawid≈Çowe - u≈ºytkownik kontroluje wys≈Çanie --&gt;
&lt;form method="get" action="/search"&gt;
    &lt;label for="category"&gt;Kategoria:&lt;/label&gt;
    &lt;select id="category" name="category"&gt;
        &lt;option value=""&gt;Wybierz kategoriƒô&lt;/option&gt;
        &lt;option value="electronics"&gt;Elektronika&lt;/option&gt;
        &lt;option value="books"&gt;KsiƒÖ≈ºki&lt;/option&gt;
        &lt;option value="clothing"&gt;Odzie≈º&lt;/option&gt;
    &lt;/select&gt;
    
    &lt;button type="submit"&gt;Wyszukaj&lt;/button&gt;
&lt;/form&gt;</code></pre>
                <p><strong>Dlaczego dzia≈Ça:</strong> U≈ºytkownik mo≈ºe wybraƒá kategoriƒô i zdecydowaƒá kiedy wys≈Çaƒá
                    formularz.</p>
            </div>

            <div class="example-block good-example">
                <h4>Wyb√≥r jƒôzyka z ostrze≈ºeniem</h4>
                <pre><code class="language-html">&lt;!-- Prawid≈Çowe - u≈ºytkownik jest informowany --&gt;
&lt;form&gt;
    &lt;label for="language"&gt;
        Jƒôzyk strony 
        &lt;small&gt;(zmiana przekieruje na nowƒÖ stronƒô)&lt;/small&gt;:
    &lt;/label&gt;
    &lt;select id="language" onchange="confirmLanguageChange(this)"&gt;
        &lt;option value="pl"&gt;Polski&lt;/option&gt;
        &lt;option value="en"&gt;English&lt;/option&gt;
        &lt;option value="de"&gt;Deutsch&lt;/option&gt;
    &lt;/select&gt;
&lt;/form&gt;

&lt;script&gt;
function confirmLanguageChange(select) {
    const confirmed = confirm(
        'Czy chcesz zmieniƒá jƒôzyk strony? Zostaniesz przekierowany na nowƒÖ stronƒô.'
    );
    
    if (confirmed) {
        window.location.href = '/' + select.value + '/';
    } else {
        // Przywr√≥ƒá poprzedniƒÖ warto≈õƒá
        select.selectedIndex = 0;
    }
}
&lt;/script&gt;</code></pre>
                <p><strong>Dlaczego dzia≈Ça:</strong> U≈ºytkownik jest ostrze≈ºony i musi potwierdziƒá zmianƒô.</p>
            </div>

            <div class="example-block good-example">
                <h4>Newsletter z kontrolowanƒÖ akcjƒÖ</h4>
                <pre><code class="language-html">&lt;!-- Prawid≈Çowe - akcja na ≈ºƒÖdanie u≈ºytkownika --&gt;
&lt;form&gt;
    &lt;input type="checkbox" id="newsletter"&gt;
    &lt;label for="newsletter"&gt;Chcƒô otrzymywaƒá newsletter&lt;/label&gt;
    
    &lt;div id="newsletter-options" style="display: none;"&gt;
        &lt;p&gt;Dziƒôkujemy za zainteresowanie!&lt;/p&gt;
        &lt;button type="button" onclick="openNewsletterForm()"&gt;
            Wype≈Çnij formularz zapisu
        &lt;/button&gt;
    &lt;/div&gt;
&lt;/form&gt;

&lt;script&gt;
document.getElementById('newsletter').addEventListener('change', function() {
    const options = document.getElementById('newsletter-options');
    options.style.display = this.checked ? 'block' : 'none';
});

function openNewsletterForm() {
    // Kontrolowane otwarcie formularza
    window.open('/newsletter-signup', 'newsletter', 'width=600,height=400');
}
&lt;/script&gt;</code></pre>
                <p><strong>Dlaczego dzia≈Ça:</strong> Pokazuje opcje lokalnie, nowe okno otwiera siƒô tylko na ≈ºƒÖdanie.
                </p>
            </div>

            <div class="example-block good-example">
                <h4>Wyszukiwanie z podpowiedziami</h4>
                <pre><code class="language-html">&lt;!-- Prawid≈Çowe - podpowiedzi bez zmiany kontekstu --&gt;
&lt;form method="get" action="/search"&gt;
    &lt;label for="search"&gt;Wyszukaj produkt:&lt;/label&gt;
    &lt;div class="search-container"&gt;
        &lt;input type="text" id="search" name="q"
               aria-describedby="search-suggestions"
               oninput="showSuggestions(this.value)"&gt;
        
        &lt;div id="search-suggestions" class="suggestions" role="listbox"&gt;
            &lt;!-- Podpowiedzi bƒôdƒÖ tu dodawane dynamicznie --&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;button type="submit"&gt;Szukaj&lt;/button&gt;
&lt;/form&gt;

&lt;script&gt;
function showSuggestions(query) {
    const suggestionsDiv = document.getElementById('search-suggestions');
    
    if (query.length < 2) {
        suggestionsDiv.innerHTML = '';
        return;
    }
    
    // Symulacja podpowiedzi
    const suggestions = ['laptop', 'lampa', 'lalka'].filter(item =&gt; 
        item.includes(query.toLowerCase())
    );
    
    suggestionsDiv.innerHTML = suggestions.map(suggestion =&gt; 
        `&lt;div class="suggestion" onclick="selectSuggestion('${suggestion}')"&gt;
            ${suggestion}
        &lt;/div&gt;`
    ).join('');
}

function selectSuggestion(text) {
    document.getElementById('search').value = text;
    document.getElementById('search-suggestions').innerHTML = '';
}
&lt;/script&gt;</code></pre>
                <p><strong>Dlaczego dzia≈Ça:</strong> Podpowiedzi pojawiajƒÖ siƒô lokalnie, nie zmieniajƒÖc g≈Ç√≥wnej tre≈õci.
                </p>
            </div>

            <div class="example-block good-example">
                <h4>Filtrowanie z opcjƒÖ zastosowania</h4>
                <pre><code class="language-html">&lt;!-- Prawid≈Çowe - filtrowanie na ≈ºƒÖdanie --&gt;
&lt;form class="filter-form"&gt;
    &lt;fieldset&gt;
        &lt;legend&gt;Filtry produkt√≥w&lt;/legend&gt;
        
        &lt;div class="filter-group"&gt;
            &lt;label for="price-range"&gt;Zakres cen:&lt;/label&gt;
            &lt;select id="price-range" name="price"&gt;
                &lt;option value=""&gt;Wszystkie&lt;/option&gt;
                &lt;option value="0-100"&gt;0-100 z≈Ç&lt;/option&gt;
                &lt;option value="100-500"&gt;100-500 z≈Ç&lt;/option&gt;
                &lt;option value="500+"&gt;Powy≈ºej 500 z≈Ç&lt;/option&gt;
            &lt;/select&gt;
        &lt;/div&gt;
        
        &lt;div class="filter-group"&gt;
            &lt;label&gt;Marka:&lt;/label&gt;
            &lt;input type="checkbox" id="brand1" name="brand" value="samsung"&gt;
            &lt;label for="brand1"&gt;Samsung&lt;/label&gt;
            
            &lt;input type="checkbox" id="brand2" name="brand" value="apple"&gt;
            &lt;label for="brand2"&gt;Apple&lt;/label&gt;
        &lt;/div&gt;
        
        &lt;div class="filter-actions"&gt;
            &lt;button type="submit"&gt;Zastosuj filtry&lt;/button&gt;
            &lt;button type="reset"&gt;Wyczy≈õƒá&lt;/button&gt;
        &lt;/div&gt;
    &lt;/fieldset&gt;
&lt;/form&gt;</code></pre>
                <p><strong>Dlaczego dzia≈Ça:</strong> U≈ºytkownik mo≈ºe ustawiƒá wszystkie filtry i zastosowaƒá je
                    jednocze≈õnie.</p>
            </div>
        </section>

        <section class="interactive-demo">
            <h2>Interaktywne demo - testy wprowadzania danych</h2>
            <p>Przetestuj r√≥≈ºne zachowania element√≥w przy wprowadzaniu danych:</p>

            <div class="demo-container">
                <h3>Bezpieczne zachowania przy wprowadzaniu</h3>
                <div class="safe-input-demo">
                    <div class="demo-group">
                        <h4>‚úÖ Prawid≈Çowe przyk≈Çady:</h4>

                        <div class="demo-item">
                            <label for="safe-select">Lista z przyciskiem:</label>
                            <select id="safe-select" onchange="logInputEvent('Bezpieczna zmiana listy')">
                                <option value="">Wybierz opcjƒô...</option>
                                <option value="1">Opcja 1</option>
                                <option value="2">Opcja 2</option>
                                <option value="3">Opcja 3</option>
                            </select>
                            <button onclick="applySafeSelection()">Zastosuj</button>
                            <div class="demo-feedback" id="safe-feedback"></div>
                        </div>

                        <div class="demo-item">
                            <label for="safe-search">Wyszukiwanie z podpowiedziami:</label>
                            <div class="search-demo">
                                <input type="text" id="safe-search" placeholder="Wpisz 'lap' lub 'tel'"
                                    oninput="showDemoSuggestions(this.value)">
                                <div id="demo-suggestions" class="suggestions-box"></div>
                                <button onclick="performSearch()">Szukaj</button>
                            </div>
                        </div>

                        <div class="demo-item">
                            <input type="checkbox" id="safe-checkbox" onchange="showCheckboxFeedback(this.checked)">
                            <label for="safe-checkbox">Poka≈º dodatkowe opcje</label>
                            <div id="additional-options" style="display: none;" class="additional-content">
                                <p>Dodatkowe opcje sƒÖ teraz widoczne</p>
                                <button>Akcja opcjonalna</button>
                            </div>
                        </div>
                    </div>

                    <div class="demo-group warning-group">
                        <h4>‚ö†Ô∏è Problematyczne przyk≈Çady (tylko demonstracja):</h4>
                        <p><em>Te elementy pokazujƒÖ problematyczne zachowania, ale sƒÖ bezpieczne w tym demo.</em></p>

                        <div class="demo-item">
                            <label for="unsafe-select">Lista "automatyczna":</label>
                            <select id="unsafe-select" onchange="demonstrateUnsafeInput('auto-submit')">
                                <option value="">Wybierz...</option>
                                <option value="redirect">Przekierowanie</option>
                                <option value="popup">Nowe okno</option>
                                <option value="submit">Auto-wys≈Çanie</option>
                            </select>
                            <span class="warning-text">W prawdziwej implementacji: automatyczna akcja</span>
                        </div>

                        <div class="demo-item">
                            <label for="unsafe-input">Pole "na ≈ºywo":</label>
                            <input type="text" id="unsafe-input" placeholder="Problematyczne pole"
                                oninput="demonstrateUnsafeInput('live-change')">
                            <span class="warning-text">W prawdziwej implementacji: zmiany podczas pisania</span>
                        </div>

                        <div class="demo-item">
                            <input type="checkbox" id="unsafe-checkbox" onchange="demonstrateUnsafeInput('auto-popup')">
                            <label for="unsafe-checkbox">Checkbox "automatyczny"</label>
                            <span class="warning-text">W prawdziwej implementacji: automatyczne okno popup</span>
                        </div>
                    </div>
                </div>

                <div class="demo-log">
                    <h4>Log zdarze≈Ñ wprowadzania:</h4>
                    <div id="input-log" class="log-area"></div>
                    <button onclick="clearInputLog()" class="clear-button">Wyczy≈õƒá log</button>
                </div>
            </div>

            <script>
                let inputLogCount = 0;

                function logInputEvent(message) {
                    const log = document.getElementById('input-log');
                    const timestamp = new Date().toLocaleTimeString();
                    const entry = document.createElement('div');
                    entry.className = 'log-entry';
                    entry.innerHTML = `<span class="timestamp">[${timestamp}]</span> ${message}`;
                    log.appendChild(entry);
                    log.scrollTop = log.scrollHeight;
                    inputLogCount++;
                }

                function applySafeSelection() {
                    const select = document.getElementById('safe-select');
                    const feedback = document.getElementById('safe-feedback');

                    if (select.value) {
                        feedback.innerHTML = `<span style="color: green;">‚úÖ Zastosowano: ${select.options[select.selectedIndex].text}</span>`;
                        logInputEvent(`Bezpieczne zastosowanie wyboru: ${select.value}`);
                    } else {
                        feedback.innerHTML = `<span style="color: orange;">‚ö†Ô∏è Nie wybrano opcji</span>`;
                    }
                }

                function showDemoSuggestions(query) {
                    const suggestionsDiv = document.getElementById('demo-suggestions');

                    if (query.length < 2) {
                        suggestionsDiv.innerHTML = '';
                        return;
                    }

                    const suggestions = {
                        'lap': ['laptop', 'lampa'],
                        'tel': ['telefon', 'telewizor'],
                        'kom': ['komputer', 'komoda']
                    };

                    let matches = [];
                    Object.keys(suggestions).forEach(key => {
                        if (query.toLowerCase().includes(key)) {
                            matches = matches.concat(suggestions[key]);
                        }
                    });

                    if (matches.length > 0) {
                        suggestionsDiv.innerHTML = matches.map(item =>
                            `<div class="suggestion-item" onclick="selectDemoSuggestion('${item}')">${item}</div>`
                        ).join('');
                        logInputEvent(`Pokazano ${matches.length} podpowiedzi dla "${query}"`);
                    } else {
                        suggestionsDiv.innerHTML = '';
                    }
                }

                function selectDemoSuggestion(text) {
                    document.getElementById('safe-search').value = text;
                    document.getElementById('demo-suggestions').innerHTML = '';
                    logInputEvent(`Wybrano podpowied≈∫: ${text}`);
                }

                function performSearch() {
                    const query = document.getElementById('safe-search').value;
                    if (query) {
                        logInputEvent(`Wykonano wyszukiwanie: "${query}"`);
                        showSearchResults(query);
                    }
                }

                function showSearchResults(query) {
                    const suggestions = document.getElementById('demo-suggestions');
                    suggestions.innerHTML = `<div class="search-result">Wyniki dla: "${query}" (${Math.floor(Math.random() * 20) + 1} znalezionych)</div>`;
                }

                function showCheckboxFeedback(checked) {
                    const options = document.getElementById('additional-options');
                    options.style.display = checked ? 'block' : 'none';
                    logInputEvent(`Checkbox ${checked ? 'zaznaczony' : 'odznaczony'} - opcje ${checked ? 'pokazane' : 'ukryte'}`);
                }

                function demonstrateUnsafeInput(type) {
                    const messages = {
                        'auto-submit': 'üö´ DEMO: W prawdziwej sytuacji formularz zosta≈Çby automatycznie wys≈Çany',
                        'live-change': 'üö´ DEMO: W prawdziwej sytuacji tre≈õƒá strony zmienia≈Çaby siƒô podczas pisania',
                        'auto-popup': 'üö´ DEMO: W prawdziwej sytuacji otworzy≈Çoby siƒô automatyczne okno popup'
                    };

                    logInputEvent(messages[type]);
                    showUnsafeWarning(type);
                }

                function showUnsafeWarning(type) {
                    const warning = document.createElement('div');
                    warning.className = 'demo-warning';
                    warning.innerHTML = `
                        <strong>‚ö†Ô∏è Problematyczne zachowanie wykryte!</strong><br>
                        Typ: ${type}<br>
                        <small>To zachowanie narusza≈Çoby kryterium 3.2.2</small>
                    `;
                    warning.style.cssText = `
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        background: #dc3545;
                        color: white;
                        padding: 15px;
                        border-radius: 5px;
                        z-index: 1000;
                        max-width: 300px;
                        animation: slideIn 0.5s ease-out;
                    `;

                    document.body.appendChild(warning);

                    setTimeout(() => {
                        if (warning.parentNode) {
                            warning.style.animation = 'slideOut 0.5s ease-out';
                            setTimeout(() => {
                                if (warning.parentNode) {
                                    warning.parentNode.removeChild(warning);
                                }
                            }, 500);
                        }
                    }, 4000);
                }

                function clearInputLog() {
                    document.getElementById('input-log').innerHTML = '';
                    inputLogCount = 0;
                    logInputEvent('Log wyczyszczony');
                }

                // Style dla demo
                const demoStyle = document.createElement('style');
                demoStyle.textContent = `
                    .search-demo {
                        position: relative;
                        display: inline-block;
                    }
                    
                    .suggestions-box {
                        position: absolute;
                        top: 100%;
                        left: 0;
                        right: 0;
                        background: white;
                        border: 1px solid #ccc;
                        border-top: none;
                        max-height: 150px;
                        overflow-y: auto;
                        z-index: 100;
                    }
                    
                    .suggestion-item {
                        padding: 8px 12px;
                        cursor: pointer;
                        border-bottom: 1px solid #eee;
                    }
                    
                    .suggestion-item:hover {
                        background-color: #f0f0f0;
                    }
                    
                    .search-result {
                        padding: 8px 12px;
                        background-color: #e8f5e9;
                        border: 1px solid #4caf50;
                        color: #2e7d32;
                    }
                    
                    .additional-content {
                        margin-top: 10px;
                        padding: 10px;
                        background-color: #f0f8ff;
                        border: 1px solid #b3d9ff;
                        border-radius: 3px;
                    }
                    
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    
                    @keyframes slideOut {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                    }
                `;
                document.head.appendChild(demoStyle);
            </script>

            <style>
                .demo-container {
                    background-color: #f8f9fa;
                    border: 1px solid #dee2e6;
                    border-radius: 5px;
                    padding: 20px;
                    margin: 20px 0;
                }

                .demo-group {
                    margin-bottom: 30px;
                    padding: 15px;
                    border: 1px solid #ccc;
                    border-radius: 5px;
                }

                .warning-group {
                    background-color: #fff3cd;
                    border-color: #ffeaa7;
                }

                .demo-item {
                    margin: 15px 0;
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    flex-wrap: wrap;
                }

                .demo-item input,
                .demo-item select,
                .demo-item button {
                    padding: 8px 12px;
                    border: 1px solid #ccc;
                    border-radius: 3px;
                    font-size: 14px;
                }

                .demo-item button {
                    background-color: #007cba;
                    color: white;
                    cursor: pointer;
                }

                .demo-item button:hover {
                    background-color: #005a87;
                }

                .demo-feedback {
                    font-size: 14px;
                    margin-left: 10px;
                }

                .warning-text {
                    font-size: 12px;
                    color: #856404;
                    font-style: italic;
                    flex-basis: 100%;
                }

                .demo-log {
                    margin-top: 20px;
                    padding: 15px;
                    background-color: white;
                    border: 1px solid #dee2e6;
                    border-radius: 5px;
                }

                .log-area {
                    height: 200px;
                    overflow-y: auto;
                    border: 1px solid #ccc;
                    padding: 10px;
                    background-color: #f8f9fa;
                    font-family: monospace;
                    font-size: 12px;
                    margin-bottom: 10px;
                }

                .log-entry {
                    margin-bottom: 5px;
                    padding: 2px 0;
                }

                .timestamp {
                    color: #666;
                    font-weight: bold;
                }

                .clear-button {
                    background-color: #6c757d;
                    color: white;
                    border: none;
                    padding: 8px 16px;
                    border-radius: 3px;
                    cursor: pointer;
                }

                .clear-button:hover {
                    background-color: #545b62;
                }
            </style>
        </section>

        <section class="input-testing">
            <h2>Automatyczne testowanie wprowadzania danych</h2>
            <p>U≈ºyj tego narzƒôdzia do analizy problematycznych zachowa≈Ñ przy wprowadzaniu danych:</p>

            <div class="testing-tool">
                <div class="tool-controls">
                    <button id="start-input-test" class="test-button">Rozpocznij test wprowadzania</button>
                    <button id="analyze-forms" class="test-button">Analizuj formularze</button>
                    <button id="stop-input-test" class="test-button" disabled>Zatrzymaj test</button>
                </div>

                <div class="test-results">
                    <h4>Wyniki test√≥w:</h4>
                    <div id="input-test-results"></div>
                </div>
            </div>

            <script>
                let inputTestActive = false;
                let inputEvents = [];
                let problematicElements = new Set();

                function startInputTest() {
                    if (inputTestActive) return;

                    inputTestActive = true;
                    inputEvents = [];
                    problematicElements.clear();

                    // Aktualizuj przyciski
                    document.getElementById('start-input-test').disabled = true;
                    document.getElementById('stop-input-test').disabled = false;

                    // Monitoruj elementy z potencjalnymi problemami
                    const inputElements = document.querySelectorAll(
                        'input, select, textarea, [role="checkbox"], [role="radio"]'
                    );

                    inputElements.forEach(element => {
                        element.addEventListener('change', monitorInputEvent);
                        element.addEventListener('input', monitorInputEvent);
                    });

                    showTestMessage('Test wprowadzania danych rozpoczƒôty. Wypr√≥buj r√≥≈ºne elementy formularza.');
                }

                function stopInputTest() {
                    if (!inputTestActive) return;

                    inputTestActive = false;

                    // Aktualizuj przyciski
                    document.getElementById('start-input-test').disabled = false;
                    document.getElementById('stop-input-test').disabled = true;

                    // Usu≈Ñ nas≈Çuchiwacze
                    const inputElements = document.querySelectorAll(
                        'input, select, textarea, [role="checkbox"], [role="radio"]'
                    );

                    inputElements.forEach(element => {
                        element.removeEventListener('change', monitorInputEvent);
                        element.removeEventListener('input', monitorInputEvent);
                    });

                    // Poka≈º wyniki
                    displayInputTestResults();
                    showTestMessage('Test wprowadzania danych zako≈Ñczony.');
                }

                function monitorInputEvent(event) {
                    const element = event.target;
                    const timestamp = Date.now();

                    // Sprawd≈∫ czy element ma problematyczne zachowania
                    const issues = checkForInputIssues(element);

                    if (issues.length > 0) {
                        problematicElements.add(element);
                    }

                    inputEvents.push({
                        type: event.type,
                        element: element,
                        tagName: element.tagName,
                        type_attr: element.type || '',
                        id: element.id || '',
                        className: element.className || '',
                        timestamp: timestamp,
                        value: element.value || '',
                        issues: issues
                    });
                }

                function checkForInputIssues(element) {
                    const issues = [];

                    // Sprawd≈∫ onchange handler
                    const changeHandler = element.getAttribute('onchange');
                    if (changeHandler) {
                        if (changeHandler.includes('submit')) {
                            issues.push('Automatyczne wys≈Çanie formularza');
                        }
                        if (changeHandler.includes('window.open') || changeHandler.includes('open(')) {
                            issues.push('Otwieranie nowego okna');
                        }
                        if (changeHandler.includes('location') || changeHandler.includes('href')) {
                            issues.push('Przekierowanie');
                        }
                        if (changeHandler.includes('.focus()')) {
                            issues.push('Przeniesienie fokusa');
                        }
                    }

                    // Sprawd≈∫ oninput handler
                    const inputHandler = element.getAttribute('oninput');
                    if (inputHandler) {
                        if (inputHandler.includes('submit')) {
                            issues.push('Automatyczne wys≈Çanie podczas pisania');
                        }
                        if (inputHandler.includes('location') || inputHandler.includes('href')) {
                            issues.push('Przekierowanie podczas pisania');
                        }
                    }

                    return issues;
                }

                function analyzeForms() {
                    const analysis = {
                        totalForms: 0,
                        totalInputs: 0,
                        problematicElements: 0,
                        issues: [],
                        recommendations: []
                    };

                    const forms = document.querySelectorAll('form');
                    const inputs = document.querySelectorAll('input, select, textarea');

                    analysis.totalForms = forms.length;
                    analysis.totalInputs = inputs.length;

                    inputs.forEach(element => {
                        const issues = checkForInputIssues(element);
                        if (issues.length > 0) {
                            analysis.problematicElements++;
                            analysis.issues.push({
                                element: element,
                                selector: getElementSelector(element),
                                issues: issues
                            });
                        }
                    });

                    // Sprawd≈∫ czy formularze majƒÖ submit buttony
                    forms.forEach(form => {
                        const submitButtons = form.querySelectorAll('button[type="submit"], input[type="submit"]');
                        if (submitButtons.length === 0) {
                            analysis.recommendations.push('Dodaj przyciski submit do formularzy');
                        }
                    });

                    // Generuj rekomendacje
                    if (analysis.problematicElements > 0) {
                        analysis.recommendations.push('Usu≈Ñ automatyczne akcje z handler√≥w onchange/oninput');
                        analysis.recommendations.push('Dodaj kontrolowane akcje za pomocƒÖ przycisk√≥w');
                    }

                    if (analysis.totalForms > 0 && analysis.totalInputs === 0) {
                        analysis.recommendations.push('Sprawd≈∫ czy formularze sƒÖ prawid≈Çowo zaimplementowane');
                    }

                    displayFormAnalysis(analysis);
                }

                function getElementSelector(element) {
                    if (element.id) {
                        return `#${element.id}`;
                    }

                    let selector = element.tagName.toLowerCase();
                    if (element.type) {
                        selector += `[type="${element.type}"]`;
                    }
                    if (element.className) {
                        selector += `.${element.className.split(' ')[0]}`;
                    }

                    return selector;
                }

                function displayInputTestResults() {
                    const resultsArea = document.getElementById('input-test-results');

                    if (inputEvents.length === 0) {
                        resultsArea.innerHTML = '<p>Brak zarejestrowanych zdarze≈Ñ wprowadzania danych.</p>';
                        return;
                    }

                    const problematicEvents = inputEvents.filter(event =>
                        event.issues && event.issues.length > 0
                    );

                    let html = `
                        <div class="test-summary">
                            <h5>Podsumowanie testu:</h5>
                            <ul>
                                <li>Ca≈Çkowite zdarzenia: ${inputEvents.length}</li>
                                <li>Problematyczne elementy: ${problematicElements.size}</li>
                                <li>Zdarzenia z problemami: ${problematicEvents.length}</li>
                                <li>Ocena: ${problematicEvents.length === 0 ? '‚úÖ Doskona≈Ça' : '‚ö†Ô∏è Wymaga uwagi'}</li>
                            </ul>
                        </div>
                    `;

                    if (problematicEvents.length > 0) {
                        html += '<div class="issues-list"><h5>Znalezione problemy:</h5><ul>';
                        problematicEvents.forEach(event => {
                            event.issues.forEach(issue => {
                                html += `<li><strong>${event.tagName}</strong> (${event.id || 'brak id'}): ${issue}</li>`;
                            });
                        });
                        html += '</ul></div>';
                    }

                    // Poka≈º czƒôstotliwo≈õƒá zdarze≈Ñ
                    const eventsByType = {};
                    inputEvents.forEach(event => {
                        eventsByType[event.type] = (eventsByType[event.type] || 0) + 1;
                    });

                    html += '<div class="event-stats"><h5>Statystyki zdarze≈Ñ:</h5><ul>';
                    Object.entries(eventsByType).forEach(([type, count]) => {
                        html += `<li>${type}: ${count} zdarze≈Ñ</li>`;
                    });
                    html += '</ul></div>';

                    resultsArea.innerHTML = html;
                }

                function displayFormAnalysis(analysis) {
                    const resultsArea = document.getElementById('input-test-results');

                    let html = `
                        <div class="analysis-summary">
                            <h5>Analiza formularzy:</h5>
                            <ul>
                                <li>Formularze: ${analysis.totalForms}</li>
                                <li>Elementy wprowadzania: ${analysis.totalInputs}</li>
                                <li>Problematyczne elementy: ${analysis.problematicElements}</li>
                            </ul>
                        </div>
                    `;

                    if (analysis.issues.length > 0) {
                        html += '<div class="issues-list"><h5>Wykryte problemy:</h5><ul>';
                        analysis.issues.forEach(item => {
                            html += `<li><strong>${item.selector}</strong>: ${item.issues.join(', ')}</li>`;
                        });
                        html += '</ul></div>';
                    }

                    if (analysis.recommendations.length > 0) {
                        html += '<div class="recommendations"><h5>Rekomendacje:</h5><ul>';
                        analysis.recommendations.forEach(rec => {
                            html += `<li>${rec}</li>`;
                        });
                        html += '</ul></div>';
                    }

                    resultsArea.innerHTML = html;
                }

                function showTestMessage(message) {
                    const messageDiv = document.createElement('div');
                    messageDiv.className = 'test-message';
                    messageDiv.textContent = message;
                    messageDiv.style.cssText = `
                        position: fixed;
                        bottom: 20px;
                        left: 20px;
                        background: #007cba;
                        color: white;
                        padding: 15px;
                        border-radius: 5px;
                        z-index: 1000;
                        animation: slideIn 0.5s ease-out;
                        max-width: 300px;
                    `;

                    document.body.appendChild(messageDiv);

                    setTimeout(() => {
                        if (messageDiv.parentNode) {
                            messageDiv.style.animation = 'slideOut 0.5s ease-out';
                            setTimeout(() => {
                                if (messageDiv.parentNode) {
                                    messageDiv.parentNode.removeChild(messageDiv);
                                }
                            }, 500);
                        }
                    }, 3000);
                }

                // Event listeners dla przycisk√≥w testowych
                document.getElementById('start-input-test').addEventListener('click', startInputTest);
                document.getElementById('stop-input-test').addEventListener('click', stopInputTest);
                document.getElementById('analyze-forms').addEventListener('click', analyzeForms);
            </script>

            <style>
                .testing-tool {
                    background-color: #f8f9fa;
                    border: 1px solid #dee2e6;
                    border-radius: 5px;
                    padding: 20px;
                    margin: 20px 0;
                }

                .tool-controls {
                    margin-bottom: 20px;
                }

                .test-button {
                    background-color: #28a745;
                    color: white;
                    border: none;
                    padding: 10px 20px;
                    margin: 5px;
                    border-radius: 3px;
                    cursor: pointer;
                    font-size: 14px;
                }

                .test-button:hover:not(:disabled) {
                    background-color: #218838;
                }

                .test-button:disabled {
                    background-color: #6c757d;
                    cursor: not-allowed;
                }

                .test-results {
                    background-color: white;
                    border: 1px solid #dee2e6;
                    border-radius: 3px;
                    padding: 15px;
                }

                .test-summary,
                .analysis-summary {
                    background-color: #e7f3ff;
                    padding: 15px;
                    border-radius: 3px;
                    margin-bottom: 15px;
                }

                .issues-list {
                    background-color: #fff3cd;
                    padding: 15px;
                    border-radius: 3px;
                    margin-bottom: 15px;
                }

                .recommendations {
                    background-color: #d4edda;
                    padding: 15px;
                    border-radius: 3px;
                    margin-bottom: 15px;
                }

                .event-stats {
                    background-color: #f8f9fa;
                    padding: 15px;
                    border-radius: 3px;
                }
            </style>
        </section>

        <section class="implementation-guidelines">
            <h2>Wytyczne implementacyjne</h2>

            <h3>Co MO≈ªNA robiƒá przy wprowadzaniu danych:</h3>
            <ul>
                <li><strong>Pokazywanie podpowiedzi</strong> - sugestie, autocompletowanie</li>
                <li><strong>Walidacja w czasie rzeczywistym</strong> - sprawdzanie formatu bez przesy≈Çania</li>
                <li><strong>Lokalne filtrowanie</strong> - ukrywanie/pokazywanie opcji na tej samej stronie</li>
                <li><strong>Aktualizacja powiƒÖzanych p√≥l</strong> - np. lista miast po wyborze wojew√≥dztwa</li>
                <li><strong>Pokazywanie dodatkowych opcji</strong> - rozwijanie sekcji formularza</li>
                <li><strong>Przygotowanie danych w tle</strong> - ≈Çadowanie bez zmiany interfejsu</li>
            </ul>

            <h3>Czego NIE MO≈ªNA robiƒá przy wprowadzaniu danych:</h3>
            <ul>
                <li><strong>Automatyczne wysy≈Çanie formularzy</strong></li>
                <li><strong>Przekierowywanie na inne strony</strong></li>
                <li><strong>Otwieranie nowych okien</strong></li>
                <li><strong>Przenoszenie fokusa</strong></li>
                <li><strong>Zmiana g≈Ç√≥wnej tre≈õci strony</strong></li>
                <li><strong>Usuwanie lub ukrywanie aktywnych element√≥w</strong></li>
            </ul>

            <h3>Bezpieczne wzorce implementacji</h3>
            <pre><code class="language-javascript">// ‚úÖ Prawid≈Çowe - podpowiedzi bez zmiany kontekstu
function showSuggestions(inputElement) {
    const query = inputElement.value;
    const suggestionsContainer = document.getElementById('suggestions');
    
    if (query.length > 2) {
        fetch(`/api/suggestions?q=${encodeURIComponent(query)}`)
            .then(response => response.json())
            .then(suggestions => {
                suggestionsContainer.innerHTML = suggestions.map(item => 
                    `<div class="suggestion" onclick="selectSuggestion('${item}')">${item}</div>`
                ).join('');
            });
    } else {
        suggestionsContainer.innerHTML = '';
    }
}

// ‚úÖ Prawid≈Çowe - walidacja bez przesy≈Çania
function validateField(field) {
    const errorDiv = document.getElementById(field.id + '-error');
    let isValid = true;
    let message = '';
    
    // Wykonaj walidacjƒô
    if (field.type === 'email' && !isValidEmail(field.value)) {
        isValid = false;
        message = 'Nieprawid≈Çowy format email';
    }
    
    // Poka≈º/ukryj komunikat b≈Çƒôdu lokalnie
    if (errorDiv) {
        errorDiv.textContent = message;
        errorDiv.style.display = isValid ? 'none' : 'block';
    }
    
    return isValid;
}

// ‚úÖ Prawid≈Çowe - kontrolowane przes≈Çanie
function handleFormSubmit(event) {
    event.preventDefault(); // Zatrzymaj domy≈õlne przes≈Çanie
    
    const form = event.target;
    const isValid = validateForm(form);
    
    if (isValid) {
        // U≈ºytkownik kontroluje kiedy formularz jest wys≈Çany
        if (confirm('Czy chcesz wys≈Çaƒá formularz?')) {
            form.submit();
        }
    }
}

// ‚ùå Nieprawid≈Çowe - automatyczne przes≈Çanie
function autoSubmitOnChange(selectElement) {
    // NIGDY tego nie r√≥b!
    selectElement.form.submit();
}

// ‚ùå Nieprawid≈Çowe - automatyczne przekierowanie  
function redirectOnInput(inputElement) {
    // NIGDY tego nie r√≥b!
    if (inputElement.value.length > 3) {
        window.location.href = '/search?q=' + inputElement.value;
    }
}

// ‚úÖ Prawid≈Çowa alternatywa - przygotowanie z przyciskiem
function prepareSearchAndWait(inputElement) {
    const query = inputElement.value;
    const searchButton = document.getElementById('search-button');
    
    if (query.length > 2) {
        // Przygotuj wyszukiwanie, ale nie wykonuj
        searchButton.disabled = false;
        searchButton.textContent = `Szukaj "${query}"`;
    } else {
        searchButton.disabled = true;
        searchButton.textContent = 'Wpisz wiƒôcej znak√≥w';
    }
}</code></pre>
        </section>

        <section class="testing">
            <h2>Testowanie kryterium 3.2.2</h2>

            <h3>Testy manualne</h3>
            <ul>
                <li><strong>Test ka≈ºdego elementu formularza</strong> - sprawd≈∫ czy zmiana warto≈õci nie powoduje
                    niespodziewanych akcji</li>
                <li><strong>Test nawigacji klawiaturƒÖ</strong> - czy przechodzenie przez pola nie powoduje
                    automatycznych zmian</li>
                <li><strong>Test z czytnikami ekranu</strong> - czy zmiany sƒÖ komunikowane odpowiednio</li>
                <li><strong>Test r√≥≈ºnych przeglƒÖdarek</strong> - weryfikuj sp√≥jno≈õƒá zachowa≈Ñ</li>
                <li><strong>Test na urzƒÖdzeniach mobilnych</strong> - sprawd≈∫ przypadkowe dotkniƒôcia</li>
            </ul>

            <h3>Testy automatyczne</h3>
            <pre><code class="language-javascript">// Test wykrywania automatycznych akcji
function auditInputHandlers() {
    const issues = [];
    const inputElements = document.querySelectorAll('input, select, textarea');
    
    inputElements.forEach(element => {
        // Sprawd≈∫ onchange
        const changeHandler = element.getAttribute('onchange');
        if (changeHandler) {
            const problematicPatterns = [
                { pattern: /\.submit\(\)/, issue: 'Automatyczne wys≈Çanie formularza' },
                { pattern: /location\.href/, issue: 'Przekierowanie' },
                { pattern: /window\.open/, issue: 'Otwieranie nowego okna' },
                { pattern: /\.focus\(\)/, issue: 'Przeniesienie fokusa' }
            ];
            
            problematicPatterns.forEach(({ pattern, issue }) => {
                if (pattern.test(changeHandler)) {
                    issues.push({
                        element: element,
                        selector: getElementSelector(element),
                        issue: issue,
                        handler: changeHandler,
                        event: 'onchange'
                    });
                }
            });
        }
        
        // Sprawd≈∫ oninput
        const inputHandler = element.getAttribute('oninput');
        if (inputHandler) {
            if (/\.submit\(\)|location\.href/.test(inputHandler)) {
                issues.push({
                    element: element,
                    selector: getElementSelector(element),
                    issue: 'Automatyczna akcja podczas pisania',
                    handler: inputHandler,
                    event: 'oninput'
                });
            }
        }
    });
    
    return issues;
}

// Test formularzy bez przycisk√≥w submit
function auditFormsWithoutSubmit() {
    const issues = [];
    const forms = document.querySelectorAll('form');
    
    forms.forEach(form => {
        const submitButtons = form.querySelectorAll(
            'button[type="submit"], input[type="submit"]'
        );
        
        if (submitButtons.length === 0) {
            // Sprawd≈∫ czy jest jaki≈õ inny spos√≥b wys≈Çania
            const hasAutoSubmit = Array.from(form.elements).some(element => {
                const changeHandler = element.getAttribute('onchange');
                return changeHandler && changeHandler.includes('submit');
            });
            
            if (hasAutoSubmit) {
                issues.push({
                    form: form,
                    issue: 'Formularz bez przycisku submit u≈ºywa automatycznego wysy≈Çania',
                    severity: 'high'
                });
            }
        }
    });
    
    return issues;
}

// Test symulujƒÖcy wprowadzanie danych
function simulateInputChanges() {
    const results = [];
    const inputElements = document.querySelectorAll('input, select');
    
    inputElements.forEach((element, index) => {
        const initialURL = window.location.href;
        const initialWindowCount = window.length;
        const initialFocus = document.activeElement;
        
        try {
            // Symuluj zmianƒô warto≈õci
            if (element.type === 'checkbox') {
                element.checked = !element.checked;
            } else if (element.tagName === 'SELECT') {
                if (element.options.length > 1) {
                    element.selectedIndex = 1;
                }
            } else {
                element.value = 'test input';
            }
            
            // Wywo≈Çaj zdarzenie change
            const changeEvent = new Event('change', { bubbles: true });
            element.dispatchEvent(changeEvent);
            
            // Sprawd≈∫ czy nastƒÖpi≈Çy niespodziewane zmiany
            setTimeout(() => {
                const urlChanged = window.location.href !== initialURL;
                const windowCountChanged = window.length !== initialWindowCount;
                const focusChanged = document.activeElement !== initialFocus && 
                                  document.activeElement !== element;
                
                if (urlChanged || windowCountChanged || focusChanged) {
                    results.push({
                        element: element,
                        index: index,
                        urlChanged: urlChanged,
                        windowCountChanged: windowCountChanged,
                        focusChanged: focusChanged
                    });
                }
            }, 100);
            
        } catch (error) {
            console.warn(`Nie mo≈ºna przetestowaƒá elementu ${index}:`, error);
        }
    });
    
    return results;
}</code></pre>

            <h3>Checklist testowa</h3>
            <div class="checklist">
                <h4>‚úÖ Sprawd≈∫ czy:</h4>
                <ul style="list-style: none; padding-left: 0;">
                    <li>‚òê Zmiana warto≈õci w polach nie wysy≈Ça automatycznie formularza</li>
                    <li>‚òê Wyb√≥r opcji z listy nie przekierowuje na inne strony</li>
                    <li>‚òê Zaznaczenie checkbox√≥w nie otwiera nowych okien</li>
                    <li>‚òê Wpisywanie tekstu nie zmienia g≈Ç√≥wnej tre≈õci strony</li>
                    <li>‚òê Wszystkie formularze majƒÖ przyciski submit</li>
                    <li>‚òê Automatyczne akcje sƒÖ wyra≈∫nie oznaczone</li>
                    <li>‚òê U≈ºytkownik mo≈ºe anulowaƒá automatyczne zachowania</li>
                    <li>‚òê Podpowiedzi i sugestie pojawiajƒÖ siƒô lokalnie</li>
                </ul>
            </div>
        </section>

        <section class="common-mistakes">
            <h2>Czƒôste b≈Çƒôdy</h2>

            <div class="mistake-block">
                <h3>‚ùå Automatyczne wys≈Çanie formularza</h3>
                <p><strong>Problem:</strong> Formularz wysy≈Ça siƒô przy zmianie warto≈õci w polu</p>
                <pre><code class="language-html">&lt;select onchange="this.form.submit()"&gt;</code></pre>
                <p><strong>RozwiƒÖzanie:</strong> Dodaj przycisk submit</p>
                <pre><code class="language-html">&lt;select name="category"&gt;&lt;/select&gt;
&lt;button type="submit"&gt;Zastosuj filtr&lt;/button&gt;</code></pre>
            </div>

            <div class="mistake-block">
                <h3>‚ùå Przekierowanie przy wyborze opcji</h3>
                <p><strong>Problem:</strong> Lista jƒôzyk automatycznie przekierowuje</p>
                <pre><code class="language-html">&lt;select onchange="location.href='/'+this.value"&gt;</code></pre>
                <p><strong>RozwiƒÖzanie:</strong> Ostrze≈º u≈ºytkownika i daj mo≈ºliwo≈õƒá anulowania</p>
                <pre><code class="language-html">&lt;select onchange="confirmLanguageChange(this)"&gt;
&lt;script&gt;
function confirmLanguageChange(select) {
    if (confirm('Zmieniƒá jƒôzyk strony?')) {
        location.href = '/' + select.value;
    } else {
        select.selectedIndex = 0;
    }
}
&lt;/script&gt;</code></pre>
            </div>

            <div class="mistake-block">
                <h3>‚ùå Utrata danych przy b≈Çƒôdach</h3>
                <p><strong>Problem:</strong> Automatyczne wys≈Çanie nie pozwala na poprawkƒô b≈Çƒôd√≥w</p>
                <p><strong>RozwiƒÖzanie:</strong> Waliduj lokalnie przed wys≈Çaniem</p>
                <pre><code class="language-html">&lt;form onsubmit="return validateBeforeSubmit(this)"&gt;
    &lt;input required oninput="validateField(this)"&gt;
    &lt;button type="submit"&gt;Wy≈õlij&lt;/button&gt;
&lt;/form&gt;</code></pre>
            </div>
        </section>

        <section class="resources">
            <h2>Dodatkowe zasoby</h2>
            <ul>
                <li><a href="https://www.w3.org/WAI/WCAG21/Understanding/on-input.html" target="_blank"
                        rel="noopener">Understanding SC 3.2.2: On Input (W3C)</a></li>
                <li><a href="https://webaim.org/techniques/forms/" target="_blank" rel="noopener">WebAIM: Creating
                        Accessible Forms</a></li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/submit" target="_blank"
                        rel="noopener">MDN: HTMLFormElement.submit()</a></li>
                <li><a href="https://www.a11yproject.com/posts/how-to-write-accessible-forms/" target="_blank"
                        rel="noopener">A11Y Project: How to write accessible forms</a></li>
                <li><a href="https://inclusive-components.design/a-todo-list/" target="_blank" rel="noopener">Inclusive
                        Components: A Todo List</a></li>
            </ul>
        </section>

        <nav class="criterion-nav" aria-label="Nawigacja kryteri√≥w">
            <ul>
                <li><a href="3.2.1.html">Poprzedni: 3.2.1 Po otrzymaniu fokusa</a></li>
                <li><a href="../wytyczne.html">Powr√≥t do listy wytycznych</a></li>
                <li><a href="3.2.3.html">Nastƒôpny: 3.2.3 Sp√≥jna nawigacja</a></li>
            </ul>
        </nav>
    </main>

    <footer>
        <!-- Zawarto≈õƒá zostanie za≈Çadowana dynamicznie przez JavaScript -->
    </footer>

    <script src="../script.js"></script>
</body>

</html>